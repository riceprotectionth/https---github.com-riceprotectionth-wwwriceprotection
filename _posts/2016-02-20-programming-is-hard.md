---
layout: post
title: "R programming is hard"
excerpt: "R programming ยากฉิบหาย เลยวันนี้ จะมาด้วยว่าจะจัดการกับอารมณ์หงุดหงิดอย่างไรและมุ่งหน้าเรียนรู้ต่อไปกับการเรียนเขียนโปรแกรม"
tags: [R]
comments: true
---

<div style = "text-align:center"><img src = "http://i.kinja-img.com/gawker-media/image/upload/t_original/quvtevybs9bwp1j8ivd4.gif" ></div>


วันนี้ได้มีโอกาสได้อ่านกระทู้จาก [reddit:How to deal with frustration and keep in learning](https://www.reddit.com/r/learnprogramming/comments/34b0wp/how_to_deal_with_frustration_and_keep_on_learning/) ว่าด้วยว่าจะจัดการกับอารมณ์หงุดหงิดอย่างไรและมุ่งหน้าเรียนรู้ต่อไปกับการเรียนเขียนโปรแกรม


 แน่นนอนครับว่า ไม่ว่าจะเรียนอะไรก็ตาม เมื่อเราเจอสิ่งที่เราไม่เข้าใจและต้องพยายามเข้าใจ ทำอย่างไรก็ไม่ค่อยเข้าใจมันสักที เมื่อเป็นบ่อยๆ เข้าก็เกิดอาการหงุดหงิดและทำให้เกิดอาการพาล ไม่อยากเรียนซะอย่างนั้น


อันนี้ ผมแปลมาจากคำตอบในกระทู้ได้คะแนนโหวตสูงสุดว่าอย่างนี้

โปรแกรมมิ่งคือเรื่องน่าหงุดงิด อย่างไรหรอ เพราะว่ามันไม่ง่ายนะซิ แม้แต่แค่การลงโปรแรกมและการใช้โปรแกรมหรือเขียนบล้อก ที่ใช้ Joomla หรือ Wordpress เองก็ตาม มันก็ทำให้คุณเกิดอาการหงุดหงิดได้
จึงพูดเลยว่า ขั้นแรกคือเพียงแค่ปรับที่ความคาดหวัง เพราะว่าถ้าไม่สำเร็จมันจะเกิดอาการหงุดหงิด เมื่อคุณต้องโปรแกรมมิ่ง ไม่ว่าจะระดับง่ายหรือยากอย่างไรก็เจอความผิดพลาด แล้วเมื่อเจอก็จะหงุดหงิด ถ้าเราหวังว่ามันจะต้องทำงานสมบูรณ์ ยกเว้นแต่ว่า คุณทำอย่างนั้นมากกว่า สิบปี และก็จำได้มันอย่างขึ้นใจ อย่างไรก็ตามนะ อย่ายอมแพ้เมื่อคุณหงุดหงิด คุณจะต้องบังคับตัวเอง ผลักดันตัวเองให้ผ่านมันไปได้ มันอาจจะใช้เวลาหลายชั่วโมงในการแก้ปัญหาตรงนั้น แต่บอกเลยว่า มันคุ้มค่านะเมื่อคุณเจอแก้ปัญหานั้นสำเร็จ และเมื่อปัญหาอย่างเดิมมันกลับมาคุณก็จะสามารถแก้มันได้ทันที โดยไม่ต้องค้นหาอักต้่อไป และนี่หละมั้ง ทำไม software มันถึงแพงในการพัฒนา โปรแกรมเมอร์ถึงเงินเดือนดี เพราะว่า โปรแกรมมิ่ง มันก็คือการรวมกันของ

1. ทักษะการคิดเชิงวิเคราะห์ (Critical thinking skill)
2. ความอดทน
3. ความเพียร
4. และ อันนี้ผม ขำ คือ "Ok motherfucker, I have a case of red bull and a bucket and I'm not moving from this chair until I've fixed you" ให้แปลแบบนุ่มนวล คือว่า จะไม่ลุกจนกว่าจะจัดการกับไอ้นี้ให้เสร็จ
5. หรือ เดินหนีไปสักพัก แล้วค่อยกลับมาใหม่ (อันนี้ผมใช้บ่อย)

ข้อ  1 เป็นทักษะที่ต้องใช้เวลาฝึกฝน ส่วนข้ออื่นนั้นเป็นเรื่องของทัศนะคติล้วนๆ เลย ที่คุณจะต้องควบคุม จำไว้นะ ว่า สมองก็เหมือนกล้ามเนื้อ เมื่อใช้มันมากๆ มันก็เหนื่อย  มันก็ล้า เหนื่อยมากๆ คุณก็จะเกิดอาการหงุดหงิด เซง เพราะว่ารู้สึกเหมือนว่าแพ้ และนี่แหละ คุณควรรู้แล้วว่ามันเวลาที่ควรจะหยุด อาจจะหลบไปเดินเล่น ไปดูหนังหรือฟังเพลง หรือ ชวนเพื่อไปนั่งกินกาแฟ หรือคื่มเครื่องดืมที่คุณชอบ (อันนี้ผมชอบ เพราะว่าผมมันสายกินอยู่แล้ว) เมื่อถืงเวลานอนก็นอน อย่านอนดึก นะครับ นอนก่อนเที่ยงคืนได้ยิ่งดี เพราะว่าช่วงนั้นสมองจะ re-wire คือ สมองจะมีการจัดเรียงข้อมูลที่ได้รับมาให้เป็นระบบระเบียบในตอนนอน แล้วในวันรุ่งขึ้น คุณจะรู้ว่าคุณจะต้องแก้มันอย่างไร  

90% ของปัญหาคือทัศนคติ โปรแกรมมิ่งเป็นเรื่องยาก แต่คุณต้องมีความ ทัศนคติที่ว่า "challenge accept" ถ้าคุณไม่มีทัศนะคตินี่ มันก็เป็นการยากที่คุณจะเรียนหรือทำ programming

สำหรับ ผม อาจจะเป็นตัวแทนของคนที่แทบจะไม่มีพื้นฐานเรื่องการเขียนโปรแกรมเลย จบมาทางสายชีววิทยา แต่ก็ต้องมาเรียน ป.เอก ที่ต้องมาเขียนโปรแกรม R เพื่อวิเคราะห์ข้อมูล จากคนที่ใช้เป็นแต่ SPSS วิเคราะห์ข้อมูลเชิงสถิติ ต้องมาใช้ R เพราะว่า SPSS ช่วยผมให้จบเอกไม่ได้ นี่ไง ผมถึง ต้องใช้ ต้องยอมฝืนทนเรียน และ ใช้ R

การเรียน R ในปีแรกๆ  อาจารย์ที่ปรึกษา บอกว่า ลองไปเรียน R การเรียน R เมื่อสามปีก่อนไม่ได้ง่ายเหมือนสมัยนี้ สมัยนั้นเอกสารเกี่ยวกับ R มีไม่มาก แรกๆ ก็อ่าน หนังสือ [The R book ของ Crawley](http://www.amazon.co.uk/The-Book-Michael-J-Crawley/dp/0470510242) หนามากๆๆ เกือบหนึ่งพันหน้า ตอนนี้ แทบจะไม่ค่อยรู้เลยว่า R เนี้ย มันคืออะไรกันแน่

<div style = "text-align:center"><img src ="http://ecx.images-amazon.com/images/I/41PmKVyyNoL.jpg" width = "200"></div>


ต่อมาเพื่อนในก็เลยแนะนำ เวปนี้มา [TryR](http://tryr.codeschool.com/) เออ สนุกดี

<div style = "text-align:center"><img src="https://qubeshub.org/collections/post/446/download/codeschoolR.png?size=thumb" width = "400"></div>

หรือเวปนี้ [datacamp](https://www.datacamp.com/courses/free-introduction-to-r)

<div style = "text-align:center"><img src="https://bigdatauniversity.com/bdu-wp/wp-content/uploads/2015/06/Introduction-to-R-by-DataCamp.jpg" width = "400"></div>

สำหรับผู้ เริ่มต้นใหม่ๆ ถึงตอนนี้ไปก่อน ตอนนี้รู้แล้วว่าอะไรคือ data frame อะไร คือ vector อะไร คือ list

แต่มันก็ยังเอาไปใช้จริงไม่ได้ จนผมเกิดมา มี ไอเดียแล้ว คือ ก็ไปดูตัวอย่างซิว่า คนที่เขาเก่งๆ เขาทำกันอย่างไร แล้ว ลองอ่าน โค้ดที่เขาเขียน ซิว่า เขาเขียนกันอย่างไร

ผมเอาตัวอย่างมาจาก [Hadley Wickhem](http://hadley.nz/) ใครใช้ R แล้วไม่รู้จักเขา ไม่ได้นะครับ

- [Baby names from the social security administration](http://stackoverflow.com/questions/1429907/workflow-for-statistical-analysis-and-report-writing)
- [10+ years of fuel economy data from the EPI](https://github.com/hadley/data-fuel-economy)
-  [A big collection of data about the housing crisis](https://github.com/hadley/data-housing-crisis)
-  [Movie ratings from the IMDB](https://github.com/hadley/data-movies)
-  [House sale data in the Bay Area](https://github.com/hadley/sfhousing)


เอามาจาก [stackoverflow:workflow for statistical analysis  and report writing](http://stackoverflow.com/questions/1429907/workflow-for-statistical-analysis-and-report-writing)


คุณสามารถ download Rscript มาลองอ่านดูก็ได้ครับ แล้วลอง run  script ตาม ทีละบรรทัดดู แล้วคุณจะรู้ว่า การเขียนโค้ด มีลำดับขั้นตอนอย่างไร

และนี่คือตัวอย่าง
{% highlight r %}

library(plyr)

files <- dir("raw", full = T)
names(files) <- gsub("\\.csv", "", dir("raw"))

# Load all csv files into a single data frame and give informative column
# names

bnames <- ldply(files, read.csv, header = F, skip = 1, nrows = 1000,
  stringsAsFactors = FALSE)
names(bnames) <- c("year", "rank", "boy_name", "boy_percent", "girl_name", "girl_percent")

# Change from wide to long form
boys <- bnames[c("year", "boy_name", "boy_percent")]
girls <- bnames[c("year", "girl_name", "girl_percent")]

names(boys) <- names(girls) <- c("year", "name", "percent")
boys$sex <- "boy"
girls$sex <- "girl"

all <- rbind(boys, girls)

# Turn year and percent into a real numbers
all$percent <- as.numeric(gsub("%", "", all$percent)) / 100
all$year <- as.numeric(as.character(all$year))

# Save as csv
write.table(all, "baby-names.csv", sep=",", row = F)

{% endhighlight %}

จากตรงนี้ จะเห็นว่า เขามี `# comment` ในทุกบรรทัดที่ใส่ลงไป นั้นหมายความว่าคุณจะต้องรู้ว่า คุณทำอะไรแล้วได้อะไร และทำอะไรต่อ ต่อมาสิ่งที่เห็น ได้เลย คือ workflow และ project organization สำคัญมากเลยนะครับ มันเป็นเทคนิคที่ใครไม่ค่อยมีใครพูดถึงสักเท่าไหร่ แต่มันเป็นการบอกเป็นนัยว่า ผู้เขียนนั้น มีความคิดที่เป็นระบบหรือไม่ และ reproducible ไหม

ตอนแรกคิดว่าสิ่งเหล่านี้ไม่สำคัญเท่าไหร่ แต่ที่จริง สำคัญมาก

แล้วเอามาต่อคราวหน้า นะครับ

<div style = "text-align:center"><img src ="/images/blog/sithsig.png" width = "100"></div>
{% highlight r %}
{% endhighlight %}
